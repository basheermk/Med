
@{
    ViewBag.Title = "UserPreparationReSult";
    Layout = "~/Views/Shared/_Layout.cshtml";
 var datas = (Medacademy.Models.UserModel)Session["UserLoginFirstTime"];
    var preparationResult = new Ma.EntityLibrary.Data.PreparationResult().GetUserPreparationResult(datas.UserId);
}
<style>
    .ns-tableView > div {
        width: 100%;
        display: inline-block;
        margin: 50px 0px;
    }
</style>

<!-- Main content -->
<section class="content">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 ns-tableView">

                <table id="classTable" class="table table-bordered table-striped">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Mark</th>
                            <th>Time(Seconds)</th>
                            <th>Rank</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{var index = 1;}
                        @foreach (var preparation in preparationResult)
                        {
                            var examname = new Ma.EntityLibrary.Data.PreparationUser(preparation.PreparationId);
                            if (examname != null)
                            {
                            <tr>
                                <td>@examname.PreparationName</td>
                                <td>@preparation.Mark</td>
                                <td>@preparation.Time</td>
                                <td>@index</td>
                                <td><button type="button" class="btn btn-success btn-xs viewResult" data-id="@preparation.PreparationId">Details</button></td>
                            </tr>
                                index++;
                            }
                        }
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</section>
<script>
   
    $(document).ready(function () {

        IntializeDataTable();

    });


    function IntializeDataTable() {
        $('#classTable').DataTable({
            "paging": true,
            "lengthChange": false,
            "searching": false,
            //"ordering": true,
            "info": true,
            "autoWidth": true
        });
    }

    $(document).on('click', '.viewResult', function () {
        var examId = $(this).attr('data-id');
        window.location.href = '/Report/PreparationWiseReport/' + examId;
    });
</script>

